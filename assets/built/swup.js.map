{"version":3,"sources":["swup.js"],"names":["root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","options","runScripts","exec","swup","getHTMLfromCache","document","addEventListener","currentHead","querySelector","newHead","replaceHeadWithoutReplacingExistingTags","oldTags","children","newTags","oldTagsToRemove","newTagsToRemove","length","oldTag","oldTagIdentifier","outerHTML","foundInNewHead","newTag","j","push","_i","removeChild","_i2","added","removed","fragment","createDocumentFragment","_i3","appendChild","querySelectorAll","forEach","item","tagName","type","elem","createElement","src","inline","createTextNode","innerText","log","query","selector","context","arguments","undefined","queryAll","Array","slice","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","Link","instance","TypeError","_classCallCheck","this","link","href","path","pathname","search","hash","default","obj","_index","_index2","_extends","assign","source","_delegate2","_interopRequireDefault","_Cache2","_Link2","_transitionEnd2","_request2","_getDataFromHtml2","_loadPage2","_renderPage2","_createState2","_triggerEvent2","_getUrl2","_scrollTo2","_classify2","_doScrolling2","_markSwupElements2","_on2","_off2","_updateTransition2","_preloadPage2","_preloadPages2","_usePlugin2","_log2","Swup","setOptions","defaults","cache","animationSelector","elements","pageClassPrefix","debugMode","scroll","doScrollingRightAway","animateScroll","scrollFriction","scrollAcceleration","preload","support","plugins","skipPopStateHandling","event","state","animateHistoryBrowsing","LINK_SELECTOR","location","origin","FORM_SELECTOR","transition","_handlers","animationInDone","animationInStart","animationOutDone","animationOutStart","animationSkipped","clickLink","contentReplaced","disabled","enabled","hoverLink","openPageInNewTab","pageLoaded","pagePreloaded","pageRetrievedFromCache","pageView","popState","samePage","samePageWithHash","scrollDone","scrollStart","serverError","submitForm","willReplaceContent","scrollToElement","preloadPromise","getUrl","transitionEndEvent","getDataFromHtml","getPage","scrollTo","loadPage","renderPage","createState","triggerEvent","classify","doScrolling","markSwupElements","on","off","updateTransition","preloadPage","preloadPages","usePlugin","enable","destroy","_this","history","console","warn","Promise","toString","indexOf","delegatedListeners","click","linkClickHandler","mouseover","body","linkMouseoverHandler","formSubmit","formSubmitHandler","popStateHandler","page","documentElement","url","currentUrl","cacheUrl","replaceState","random","Math","title","scrollRestoration","classList","add","removeEventListener","empty","element","dataset","remove","metaKey","button","preventDefault","setPath","delegateTarget","getAddress","getHash","top","getBoundingClientRect","pageYOffset","customTransition","swupTransition","_this2","exists","resolve","reject","response","request","status","route","form","formData","FormData","action","method","toLowerCase","data","inputs","input","checked","encodeURIComponent","closest","callback","useCapture","listenerFn","e","apply","Element","matches","proto","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","nodeType","parentNode","Cache","pages","count","last","displayCache","groupCollapsed","keys","groupEnd","showLog","el","transEndEventNames","WebkitTransition","MozTransition","OTransition","style","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","_utils","html","content","replace","fakeDom","innerHTML","blocks","index","pageClass","className","originalContent","responseURL","popstate","animationPromises","animatedElements","promise","all","then","pop","xhrPromise","concat","catch","errorUrl","go","_Link","getPath","split","includes","setTimeout","promises","classItem","RegExp","test","pushState","hostname","getElementsByTagName","eventName","originalEvent","handler","error","CustomEvent","detail","dispatchEvent","to","animatedScroll","friction","acceleration","positionY","velocityY","targetPositionY","targetPositionYWithOffset","direction","raf","animate","distance","applyForce","render","requestAnimationFrame","force","cancelAnimationFrame","passive","offset","scrollTop","text","output","splice","filter","savedHandler","toRemove","from","custom","plugin","str"],"mappings":"CACA,SAA2CA,EAAMC,GACtB,iBAAZC,SAA0C,iBAAXC,OACtCA,OAAOD,QAAUD,IACM,mBAAXG,QAAyBA,OAAOC,IAC5CD,OAAO,GAAIH,GACa,iBAAZC,QACZA,QAA6B,oBAAID,IAEjCD,EAA0B,oBAAIC,IARtC,CASGK,OAAQ,WACP,OAAgB,SAAWC,GAErB,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAIF,EAAiBE,GACpB,OAAOF,EAAiBE,GAAUR,QAInC,IAAIC,EAASK,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHV,QAAS,IAWV,OANAK,EAAQG,GAAUG,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASO,GAG/DN,EAAOS,GAAI,EAGJT,EAAOD,QAiEf,OA3DAO,EAAoBK,EAAIP,EAGxBE,EAAoBM,EAAIP,EAGxBC,EAAoBO,EAAI,SAAUd,EAASe,EAAMC,GAC3CT,EAAoBU,EAAEjB,EAASe,IACnCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAOhET,EAAoBe,EAAI,SAAUtB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC3CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAG7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KASvDlB,EAAoBmB,EAAI,SAAUD,EAAOE,GAExC,GADW,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACrB,GAAY,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EACjF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACrD,EAAPE,GAA4B,iBAATF,EAAmB,IAAK,IAAIM,KAAON,EAAOlB,EAAoBO,EAAEe,EAAIE,EAAK,SAAUA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IACjJ,OAAOF,GAKRtB,EAAoB0B,EAAI,SAAUhC,GACjC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAM,EAAoBO,EAAEE,EAAQ,IAAKA,GAC5BA,GAKRT,EAAoBU,EAAI,SAAUiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAG1G5B,EAAoB+B,EAAI,GAIjB/B,EAAoBA,EAAoBgC,EAAI,GA5FzC,CAgGX,CAEH,SAAWtC,EAAQD,EAASO,GAEtB,aAGAN,EAAOD,QAAU,CACbe,KAAM,sBACNyB,QAAS,CAAEC,YAAY,GACvBC,KAAM,SAAcF,EAASG,EAAMC,GAC/BC,SAASC,iBAAiB,uBAAwB,WAC9C,IAAIC,EAAcF,SAASG,cAAc,QACrCC,EAAUL,IAAmBI,cAAc,QAC/CE,EAAwCH,EAAaE,KAGzD,IAAIC,EAA0C,SAAiDH,EAAaE,GAMxG,IALA,IAAIE,EAAUJ,EAAYK,SACtBC,EAAUJ,EAAQG,SAClBE,EAAkB,GAClBC,EAAkB,GAEb9C,EAAI,EAAGA,EAAI0C,EAAQK,OAAQ/C,IAAK,CAKrC,IAJA,IAAIgD,EAASN,EAAQ1C,GACjBiD,EAAmBD,EAAOE,UAC1BC,GAAiB,EACjBC,OAAS,EACJC,EAAI,EAAGA,EAAIT,EAAQG,OAAQM,IAAK,CAIrC,IAHAD,EAASR,EAAQS,IACaH,YAELD,EAAkB,CACvCE,GAAiB,EACjB,OAIJA,EACAL,EAAgBQ,KAAKF,GAErBP,EAAgBS,KAAKN,GAI7B,IAAK,IAAIO,EAAK,EAAGA,EAAKT,EAAgBC,OAAQQ,IAC1Cf,EAAQgB,YAAYV,EAAgBS,IAGxC,IAAK,IAAIE,EAAM,EAAGA,EAAMZ,EAAgBE,OAAQU,IAC5CnB,EAAYkB,YAAYX,EAAgBY,IAO5C,IAJA,IAAIC,EAAQlB,EAAQG,SAASI,OACzBY,EAAUd,EAAgBE,OAE1Ba,EAAWxB,SAASyB,yBACfC,EAAM,EAAGA,EAAMtB,EAAQG,SAASI,OAAQe,IAC7CF,EAASG,YAAYvB,EAAQG,SAASmB,IAE1CxB,EAAYyB,YAAYH,GAEpB7B,EAAQC,YACRQ,EAAQwB,iBAAiB,UAAUC,QAAQ,SAAUC,GACjD,GAAoB,UAAhBA,EAAKC,UAAqC,MAAbD,EAAKE,MAA6B,IAAbF,EAAKE,MAA2B,mBAAbF,EAAKE,MAA4B,CACtG,IAAIC,EAAOjC,SAASkC,cAAc,UAClC,GAAgB,MAAZJ,EAAKK,KAA2B,IAAZL,EAAKK,IACzBF,EAAKE,IAAML,EAAKK,QACb,CACH,IAAIC,EAASpC,SAASqC,eAAeP,EAAKQ,WAC1CL,EAAKN,YAAYS,GAEJ,MAAbN,EAAKE,MAA6B,IAAbF,EAAKE,OAC1BC,EAAKD,KAAOF,EAAKE,MAErB9B,EAAYyB,YAAYM,MAKpCnC,EAAKyC,IAAI,WAAahB,EAAU,YAAcD,EAAQ,yBAW9E,SAA2CrE,EAAMC,GAC1B,iBAAZC,SAA0C,iBAAXC,OACxCA,OAAOD,QAAUD,IACQ,mBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,iBAAZC,QACdA,QAAc,KAAID,IAElBD,EAAW,KAAIC,IARjB,CASGK,OAAQ,WACX,OAAgB,SAAUC,GAEhB,IAAIC,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUR,QAGnC,IAAIC,EAASK,EAAiBE,GAAY,CACzCC,EAAGD,EACHE,GAAG,EACHV,QAAS,IAUV,OANAK,EAAQG,GAAUG,KAAKV,EAAOD,QAASC,EAAQA,EAAOD,QAASO,GAG/DN,EAAOS,GAAI,EAGJT,EAAOD,QA0Df,OArDAO,EAAoBK,EAAIP,EAGxBE,EAAoBM,EAAIP,EAGxBC,EAAoBO,EAAI,SAASd,EAASe,EAAMC,GAC3CT,EAAoBU,EAAEjB,EAASe,IAClCG,OAAOC,eAAenB,EAASe,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhET,EAAoBe,EAAI,SAAStB,GACX,oBAAXuB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAenB,EAASuB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAenB,EAAS,aAAc,CAAEyB,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBO,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAShC,GAChC,IAAIe,EAASf,GAAUA,EAAO2B,WAC7B,WAAwB,OAAO3B,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAM,EAAoBO,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRT,EAAoBU,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG5B,EAAoB+B,EAAI,GAIjB/B,EAAoBA,EAAoBgC,EAAI,GAnF7C,CAsFN,CAEJ,SAAUtC,EAAQD,EAASO,GAEjC,aAGAW,OAAOC,eAAenB,EAAS,aAAc,CACzCyB,OAAO,IAEXzB,EAAQqF,MAER,SAAeC,GACX,IAAIC,EAA6B,EAAnBC,UAAUhC,aAA+BiC,IAAjBD,UAAU,GAAmBA,UAAU,GAAK3C,SAElF,MAAwB,iBAAbyC,EAIJC,EAAQvC,cAAcsC,GAHlBA,GALftF,EAAQ0F,SAWR,SAAkBJ,GACd,IAAIC,EAA6B,EAAnBC,UAAUhC,aAA+BiC,IAAjBD,UAAU,GAAmBA,UAAU,GAAK3C,SAElF,MAAwB,iBAAbyC,EAIJK,MAAMvD,UAAUwD,MAAMjF,KAAK4E,EAAQd,iBAAiBa,IAHhDA,IAQT,SAAUrF,EAAQD,EAASO,GAEjC,aAGAW,OAAOC,eAAenB,EAAS,aAAc,CACzCyB,OAAO,IAGX,IAAIoE,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIvF,EAAI,EAAGA,EAAIuF,EAAMxC,OAAQ/C,IAAK,CAAE,IAAIwF,EAAaD,EAAMvF,GAAIwF,EAAW7E,WAAa6E,EAAW7E,aAAc,EAAO6E,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMjF,OAAOC,eAAe4E,EAAQE,EAAWlE,IAAKkE,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYhE,UAAWiE,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAInB,IAAIG,EAAO,WACP,SAASA,KAHb,SAAyBC,EAAUJ,GAAe,KAAMI,aAAoBJ,GAAgB,MAAM,IAAIK,UAAU,qCAIxGC,CAAgBC,KAAMJ,GAEtBI,KAAKC,KAAO/D,SAASkC,cAAc,KAiCvC,OA9BAc,EAAaU,EAAM,CAAC,CAChBxE,IAAK,UACLN,MAAO,SAAiBoF,GACpBF,KAAKC,KAAKC,KAAOA,IAEtB,CACC9E,IAAK,UACLN,MAAO,WACH,IAAIqF,EAAOH,KAAKC,KAAKG,SAIrB,MAHe,KAAXD,EAAK,KACLA,EAAO,IAAMA,GAEVA,IAEZ,CACC/E,IAAK,aACLN,MAAO,WACH,IAAIqF,EAAOH,KAAKC,KAAKG,SAAWJ,KAAKC,KAAKI,OAI1C,MAHe,KAAXF,EAAK,KACLA,EAAO,IAAMA,GAEVA,IAEZ,CACC/E,IAAK,UACLN,MAAO,WACH,OAAOkF,KAAKC,KAAKK,SAIlBV,EArCA,GAwCXvG,EAAQkH,QAAUX,GAIZ,SAAUtG,EAAQD,EAASO,GAEjC,aAGA,IAIgC4G,EAJ5BC,EAAS7G,EAAoB,GAE7B8G,GAE4BF,EAFKC,IAEgBD,EAAIvF,WAAauF,EAAM,CAAED,QAASC,GAEvFlH,EAAOD,QAAUqH,EAAQH,SAInB,SAAUjH,EAAQD,EAASO,GAEjC,aAGAW,OAAOC,eAAenB,EAAS,aAAc,CACzCyB,OAAO,IAGX,IAAI6F,EAAWpG,OAAOqG,QAAU,SAAUxB,GAAU,IAAK,IAAItF,EAAI,EAAGA,EAAI+E,UAAUhC,OAAQ/C,IAAK,CAAE,IAAI+G,EAAShC,UAAU/E,GAAI,IAAK,IAAIsB,KAAOyF,EAActG,OAAOkB,UAAUC,eAAe1B,KAAK6G,EAAQzF,KAAQgE,EAAOhE,GAAOyF,EAAOzF,IAAY,OAAOgE,GAEnPF,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIvF,EAAI,EAAGA,EAAIuF,EAAMxC,OAAQ/C,IAAK,CAAE,IAAIwF,EAAaD,EAAMvF,GAAIwF,EAAW7E,WAAa6E,EAAW7E,aAAc,EAAO6E,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMjF,OAAOC,eAAe4E,EAAQE,EAAWlE,IAAKkE,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYhE,UAAWiE,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAUfqB,EAAaC,EAFDnH,EAAoB,IAMhCoH,EAAUD,EAFDnH,EAAoB,IAM7BqH,EAASF,EAFDnH,EAAoB,IAM5BsH,EAAkBH,EAFDnH,EAAoB,IAMrCuH,EAAYJ,EAFDnH,EAAoB,IAM/BwH,EAAoBL,EAFDnH,EAAoB,IAMvCyH,EAAaN,EAFDnH,EAAoB,KAMhC0H,EAAeP,EAFDnH,EAAoB,KAMlC2H,EAAgBR,EAFDnH,EAAoB,KAMnC4H,EAAiBT,EAFDnH,EAAoB,KAMpC6H,EAAWV,EAFDnH,EAAoB,KAM9B8H,EAAaX,EAFDnH,EAAoB,KAMhC+H,EAAaZ,EAFDnH,EAAoB,KAMhCgI,EAAgBb,EAFDnH,EAAoB,KAMnCiI,EAAqBd,EAFDnH,EAAoB,KAMxCkI,EAAOf,EAFDnH,EAAoB,KAM1BmI,EAAQhB,EAFDnH,EAAoB,KAM3BoI,EAAqBjB,EAFDnH,EAAoB,KAMxCqI,EAAgBlB,EAFDnH,EAAoB,KAMnCsI,EAAiBnB,EAFDnH,EAAoB,KAMpCuI,EAAcpB,EAFDnH,EAAoB,KAMjCwI,EAAQrB,EAFDnH,EAAoB,KAI/B,SAASmH,EAAuBP,GAAO,OAAOA,GAAOA,EAAIvF,WAAauF,EAAM,CAAED,QAASC,GAIvF,IAAI6B,EAAO,WACP,SAASA,EAAKC,IAHlB,SAAyBzC,EAAUJ,GAAe,KAAMI,aAAoBJ,GAAgB,MAAM,IAAIK,UAAU,qCAIxGC,CAAgBC,KAAMqC,GAGtB,IAAIE,EAAW,CACXC,OAAO,EACPC,kBAAmB,yBACnBC,SAAU,CAAC,SACXC,gBAAiB,GACjBC,WAAW,EACXC,QAAQ,EAERC,sBAAsB,EACtBC,eAAe,EACfC,eAAgB,GAChBC,mBAAoB,IAEpBC,SAAS,EACTC,SAAS,EACTC,QAAS,GAETC,qBAAsB,SAA8BC,GAChD,OAAIA,EAAMC,OAA+B,QAAtBD,EAAMC,MAAM1C,QAKnC2C,wBAAwB,EAExBC,cAAe,YAAchK,OAAOiK,SAASC,OAAS,6FACtDC,cAAe,wBAKjB5D,KAAK6D,WAAa,GAEpB,IAAIhI,EAAU8E,EAAS,GAAI4B,EAAUD,GAKrCtC,KAAK8D,UAAY,CACbC,gBAAiB,GACjBC,iBAAkB,GAClBC,iBAAkB,GAClBC,kBAAmB,GACnBC,iBAAkB,GAClBC,UAAW,GACXC,gBAAiB,GACjBC,SAAU,GACVC,QAAS,GACTC,UAAW,GACXC,iBAAkB,GAClBC,WAAY,GACZC,cAAe,GACfC,uBAAwB,GACxBC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,iBAAkB,GAClBC,WAAY,GACZC,YAAa,GACbC,YAAa,GACbC,WAAY,GACZC,mBAAoB,IAOxBrF,KAAKsF,gBAAkB,KAEvBtF,KAAKuF,eAAiB,KAEtBvF,KAAKnE,QAAUA,EAEfmE,KAAKoD,QAAU,GAKfpD,KAAKwF,OAAS/D,EAASlB,QACvBP,KAAKwC,MAAQ,IAAIxB,EAAQT,QACzBP,KAAKC,KAAO,IAAIgB,EAAOV,QACvBP,KAAKyF,oBAAqB,EAAIvE,EAAgBX,WAC9CP,KAAK0F,gBAAkBtE,EAAkBb,QACzCP,KAAK2F,QAAUxE,EAAUZ,QACzBP,KAAK4F,SAAWlE,EAAWnB,QAC3BP,KAAK6F,SAAWxE,EAAWd,QAC3BP,KAAK8F,WAAaxE,EAAaf,QAC/BP,KAAK+F,YAAcxE,EAAchB,QACjCP,KAAKgG,aAAexE,EAAejB,QACnCP,KAAKiG,SAAWtE,EAAWpB,QAC3BP,KAAKkG,YAActE,EAAcrB,QACjCP,KAAKmG,iBAAmBtE,EAAmBtB,QAC3CP,KAAKoG,GAAKtE,EAAKvB,QACfP,KAAKqG,IAAMtE,EAAMxB,QACjBP,KAAKsG,iBAAmBtE,EAAmBzB,QAC3CP,KAAKuG,YAActE,EAAc1B,QACjCP,KAAKwG,aAAetE,EAAe3B,QACnCP,KAAKyG,UAAYtE,EAAY5B,QAC7BP,KAAKvB,IAAM2D,EAAM7B,QACjBP,KAAK0G,OAAS1G,KAAK0G,OACnB1G,KAAK2G,QAAU3G,KAAK2G,QAGhB3G,KAAKnE,QAAQ+G,YACbnJ,OAAOuC,KAAOgE,MAGlBA,KAAKwF,SACLxF,KAAK0G,SAgTT,OA7SAxH,EAAamD,EAAM,CAAC,CAChBjH,IAAK,SACLN,MAAO,WACH,IAAI8L,EAAQ5G,KAKZ,GAAIA,KAAKnE,QAAQsH,QAAS,CAEtB,KAAM,cAAe1J,OAAOoN,SAExB,YADAC,QAAQC,KAAK,8BAIjB,KAAI,EAAI7F,EAAgBX,WAIpB,YADAuG,QAAQC,KAAK,4CAIjB,GANI/G,KAAKyF,oBAAqB,EAAIvE,EAAgBX,WAM3B,oBAAZyG,UAA4E,IAAjDA,QAAQC,WAAWC,QAAQ,iBAE7D,YADAJ,QAAQC,KAAK,4BAMrB/G,KAAKmH,mBAAqB,GAK1BnH,KAAKmH,mBAAmBC,OAAQ,EAAItG,EAAWP,SAASrE,SAAU8D,KAAKnE,QAAQ4H,cAAe,QAASzD,KAAKqH,iBAAiBhM,KAAK2E,OAKlIA,KAAKmH,mBAAmBG,WAAY,EAAIxG,EAAWP,SAASrE,SAASqL,KAAMvH,KAAKnE,QAAQ4H,cAAe,YAAazD,KAAKwH,qBAAqBnM,KAAK2E,OAKnJA,KAAKmH,mBAAmBM,YAAa,EAAI3G,EAAWP,SAASrE,SAAU8D,KAAKnE,QAAQ+H,cAAe,SAAU5D,KAAK0H,kBAAkBrM,KAAK2E,OAKzIvG,OAAO0C,iBAAiB,WAAY6D,KAAK2H,gBAAgBtM,KAAK2E,OAK9D,IAAI4H,EAAO5H,KAAK0F,gBAAgBxJ,SAAS2L,gBAAgB7K,WACzD4K,EAAKE,IAAM9H,KAAK+H,WACZ/H,KAAKnE,QAAQ2G,OACbxC,KAAKwC,MAAMwF,SAASJ,EAAM5H,KAAKnE,QAAQ+G,WAM3C5C,KAAKmG,iBAAiBjK,SAAS2L,iBAK/B7H,KAAKnE,QAAQuH,QAAQrF,QAAQ,SAAUC,GACnC,OAAO4I,EAAMH,UAAUzI,KAM3BvE,OAAOoN,QAAQoB,aAAa1N,OAAOqG,OAAO,GAAInH,OAAOoN,QAAQtD,MAAO,CAChEuE,IAAKrO,OAAOiK,SAASxD,KACrBgI,OAAQC,KAAKD,SACbrH,OAAQ,SACR3E,SAASkM,MAAO3O,OAAOiK,SAASxD,MAKhCF,KAAKnE,QAAQ2H,yBACb/J,OAAOoN,QAAQwB,kBAAoB,UAMvCrI,KAAKgG,aAAa,WAClB9J,SAAS2L,gBAAgBS,UAAUC,IAAI,gBAKvCvI,KAAKgG,aAAa,YAKlBhG,KAAKwG,iBAEV,CACCpL,IAAK,UACLN,MAAO,WAEHkF,KAAKmH,mBAAmBC,MAAMT,UAC9B3G,KAAKmH,mBAAmBG,UAAUX,UAGlClN,OAAO+O,oBAAoB,WAAYxI,KAAK2H,gBAAgBtM,KAAK2E,OAGjEA,KAAKwC,MAAMiG,QAGXvM,SAAS4B,iBAAiB,eAAeC,QAAQ,SAAU2K,UAChDA,EAAQC,QAAQ3M,OAI3BgE,KAAKqG,MAELrG,KAAKgG,aAAa,YAClB9J,SAAS2L,gBAAgBS,UAAUM,OAAO,kBAE/C,CACCxN,IAAK,mBACLN,MAAO,SAA0BwI,GAE7B,GAAKA,EAAMuF,QAmDP7I,KAAKgG,aAAa,mBAAoB1C,QAjDtC,GAAqB,IAAjBA,EAAMwF,OAAc,CACpB9I,KAAKgG,aAAa,YAAa1C,GAC/B,IAAIrD,EAAO,IAAIgB,EAAOV,QAItB,GAHA+C,EAAMyF,iBACN9I,EAAK+I,QAAQ1F,EAAM2F,eAAe/I,MAE9BD,EAAKiJ,cAAgBlJ,KAAK+H,YAAmC,IAArB9H,EAAKiJ,aAE7C,GAAsB,IAAlBjJ,EAAKkJ,UAAiB,CAEtBnJ,KAAKgG,aAAa,mBAAoB1C,GACtC,IAAIoF,EAAUxM,SAASG,cAAc4D,EAAKkJ,WAC1C,GAAe,MAAXT,EAAiB,CAEjB,GAAI1I,KAAKnE,QAAQgH,OAAQ,CACrB,IAAIuG,EAAMV,EAAQW,wBAAwBD,IAAM3P,OAAO6P,YACvDtJ,KAAK4F,SAAS1J,SAASqL,KAAM6B,GAEjCvC,QAAQoB,aAAa,CACjBH,IAAK7H,EAAKiJ,aAAejJ,EAAKkJ,UAC9BjB,OAAQC,KAAKD,SACbrH,OAAQ,QACT3E,SAASkM,MAAOnI,EAAKiJ,aAAejJ,EAAKkJ,gBAG5CrC,QAAQC,KAAK,iCAAmC9G,EAAKkJ,UAAY,UAIrEnJ,KAAKgG,aAAa,WAAY1C,GAC1BtD,KAAKnE,QAAQgH,QACb7C,KAAK4F,SAAS1J,SAASqL,KAAM,EAAG,OAGrC,CAEmB,IAAlBtH,EAAKkJ,YACLnJ,KAAKsF,gBAAkBrF,EAAKkJ,WAIhC,IAAII,EAAmBjG,EAAM2F,eAAeN,QAAQa,eAGpDxJ,KAAK6F,SAAS,CAAEiC,IAAK7H,EAAKiJ,aAAcK,iBAAkBA,IAAoB,OAQ/F,CACCnO,IAAK,uBACLN,MAAO,SAA8BwI,GACjC,IAAImG,EAASzJ,KAGb,GADAA,KAAKgG,aAAa,YAAa1C,GAC3BtD,KAAKnE,QAAQqH,QAAS,CACtB,IAAIjD,EAAO,IAAIgB,EAAOV,QACtBN,EAAK+I,QAAQ1F,EAAM2F,eAAe/I,MAC9BD,EAAKiJ,cAAgBlJ,KAAK+H,YAAe/H,KAAKwC,MAAMkH,OAAOzJ,EAAKiJ,eAAwC,MAAvBlJ,KAAKuF,iBACtFvF,KAAKuF,eAAiB,IAAIyB,QAAQ,SAAU2C,EAASC,GACjDH,EAAO9D,QAAQ,CAAEmC,IAAK7H,EAAKiJ,cAAgB,SAAUW,EAAUC,GAC3D,GAAuB,MAAnBA,EAAQC,OAGR,OAFAN,EAAOzD,aAAa,cAAe1C,QACnCsG,EAAO3J,EAAKiJ,cAIZ,IAAItB,EAAO6B,EAAO/D,gBAAgBmE,EAAUC,GAChC,MAARlC,GACAA,EAAKE,IAAM7H,EAAKiJ,aAChBO,EAAOjH,MAAMwF,SAASJ,EAAM6B,EAAO5N,QAAQ+G,WAC3C6G,EAAOzD,aAAa,gBAAiB1C,GAM7CqG,IACAF,EAAOlE,eAAiB,MALhBqE,EAAO3J,EAAKiJ,kBAQ5BlJ,KAAKuF,eAAeyE,MAAQ/J,EAAKiJ,iBAI9C,CACC9N,IAAK,oBACLN,MAAO,SAA2BwI,GAE9B,GAAKA,EAAMuF,QAwDP7I,KAAKgG,aAAa,yBAA0B1C,OAxD5B,CAChBtD,KAAKgG,aAAa,aAAc1C,GAChCA,EAAMyF,iBACN,IAAIkB,EAAO3G,EAAMlE,OACb8K,EAAW,IAAIC,SAASF,GAExBhK,EAAO,IAAIgB,EAAOV,QAOtB,GANAN,EAAK+I,QAAQiB,EAAKG,QAEI,IAAlBnK,EAAKkJ,YACLnJ,KAAKsF,gBAAkBrF,EAAKkJ,WAGC,OAA7Bc,EAAKI,OAAOC,cAEZtK,KAAKwC,MAAMoG,OAAO3I,EAAKiJ,cAGvBlJ,KAAK6F,SAAS,CACViC,IAAK7H,EAAKiJ,aACVmB,OAAQJ,EAAKI,OACbE,KAAML,QAEP,CAEH,IAAIpC,EAAM7H,EAAKiJ,cAAgBzP,OAAOiK,SAASxD,KAC3CsK,EAASP,EAAKnM,iBAAiB,kBACV,GAArBgK,EAAIZ,QAAQ,KACZY,GAAO,IAEPA,GAAO,IAIX0C,EAAOzM,QAAQ,SAAU0M,GACH,YAAdA,EAAMvM,MAAoC,SAAduM,EAAMvM,KAC9BuM,EAAMC,UACN5C,GAAO6C,mBAAmBF,EAAMrQ,MAAQ,IAAMuQ,mBAAmBF,EAAM3P,OAAS,KAGpFgN,GAAO6C,mBAAmBF,EAAMrQ,MAAQ,IAAMuQ,mBAAmBF,EAAM3P,OAAS,MAKxFgN,EAAMA,EAAI7I,MAAM,GAAI,GAGpBe,KAAKwC,MAAMoG,OAAOd,GAGlB9H,KAAK6F,SAAS,CACViC,IAAKA,QAOtB,CACC1M,IAAK,kBACLN,MAAO,SAAyBwI,GAC5B,IAAIrD,EAAO,IAAIgB,EAAOV,QAClBP,KAAKnE,QAAQwH,qBAAqBC,KACtCrD,EAAK+I,QAAQ1F,EAAMC,MAAQD,EAAMC,MAAMuE,IAAMrO,OAAOiK,SAAStD,UACvC,IAAlBH,EAAKkJ,UACLnJ,KAAKsF,gBAAkBrF,EAAKkJ,UAE5B7F,EAAMyF,iBAEV/I,KAAKgG,aAAa,WAAY1C,GAC9BtD,KAAK6F,SAAS,CAAEiC,IAAK7H,EAAKiJ,cAAgB5F,QAI3CjB,EAlaA,GAqaXhJ,EAAQkH,QAAU8B,GAIZ,SAAU/I,EAAQD,EAASO,GAEjC,IAAIgR,EAAUhR,EAAoB,GA2ClCN,EAAOD,QA/BP,SAAkBqP,EAAS/J,EAAUT,EAAM2M,EAAUC,GACjD,IAAIC,EAoBR,SAAkBrC,EAAS/J,EAAUT,EAAM2M,GACvC,OAAO,SAASG,GACZA,EAAE/B,eAAiB2B,EAAQI,EAAE5L,OAAQT,GAEjCqM,EAAE/B,gBACF4B,EAAS7Q,KAAK0O,EAASsC,KAzBLC,MAAMjL,KAAMnB,WAItC,OAFA6J,EAAQvM,iBAAiB+B,EAAM6M,EAAYD,GAEpC,CACHnE,QAAS,WACL+B,EAAQF,oBAAoBtK,EAAM6M,EAAYD,OA6BpD,SAAUxR,EAAQD,GAOxB,GAAuB,oBAAZ6R,UAA4BA,QAAQzP,UAAU0P,QAAS,CAC9D,IAAIC,EAAQF,QAAQzP,UAEpB2P,EAAMD,QAAUC,EAAMC,iBACND,EAAME,oBACNF,EAAMG,mBACNH,EAAMI,kBACNJ,EAAMK,sBAoB1BnS,EAAOD,QAVP,SAAkBqP,EAAS/J,GACvB,KAAO+J,GAvBc,IAuBHA,EAAQgD,UAAiC,CACvD,GAA+B,mBAApBhD,EAAQyC,SACfzC,EAAQyC,QAAQxM,GAClB,OAAO+J,EAETA,EAAUA,EAAQiD,cASpB,SAAUrS,EAAQD,EAASO,GAEjC,aAGAW,OAAOC,eAAenB,EAAS,aAAc,CACzCyB,OAAO,IAGX,IAAIoE,EAAe,WAAc,SAASC,EAAiBC,EAAQC,GAAS,IAAK,IAAIvF,EAAI,EAAGA,EAAIuF,EAAMxC,OAAQ/C,IAAK,CAAE,IAAIwF,EAAaD,EAAMvF,GAAIwF,EAAW7E,WAAa6E,EAAW7E,aAAc,EAAO6E,EAAWC,cAAe,EAAU,UAAWD,IAAYA,EAAWE,UAAW,GAAMjF,OAAOC,eAAe4E,EAAQE,EAAWlE,IAAKkE,IAAiB,OAAO,SAAUG,EAAaC,EAAYC,GAAiJ,OAA9HD,GAAYP,EAAiBM,EAAYhE,UAAWiE,GAAiBC,GAAaR,EAAiBM,EAAaE,GAAqBF,GAA7gB,GAInB,IAAImM,EAAQ,WACR,SAASA,KAHb,SAAyB/L,EAAUJ,GAAe,KAAMI,aAAoBJ,GAAgB,MAAM,IAAIK,UAAU,qCAIxGC,CAAgBC,KAAM4L,GAEtB5L,KAAK6L,MAAQ,GACb7L,KAAK8L,MAAQ,EACb9L,KAAK+L,KAAO,KAoDhB,OAjDA7M,EAAa0M,EAAO,CAAC,CACjBxQ,IAAK,WACLN,MAAO,SAAkB8M,EAAMoE,GAC3BhM,KAAK8L,QACDlE,EAAKE,OAAO9H,KAAK6L,QAAU,IAC3B7L,KAAK6L,MAAMjE,EAAKE,KAAOF,GAE3B5H,KAAK+L,KAAO/L,KAAK6L,MAAMjE,EAAKE,KACxBkE,GACAhM,KAAKgM,iBAGd,CACC5Q,IAAK,UACLN,MAAO,SAAiBgN,GACpB,OAAO9H,KAAK6L,MAAM/D,KAEvB,CACC1M,IAAK,eACLN,MAAO,WAEH,IAAK,IAAIM,KADT0L,QAAQmF,eAAe,UAAY1R,OAAO2R,KAAKlM,KAAK6L,OAAOhP,OAAS,KACpDmD,KAAK6L,MACjB/E,QAAQrI,IAAIuB,KAAK6L,MAAMzQ,IAE3B0L,QAAQqF,aAEb,CACC/Q,IAAK,SACLN,MAAO,SAAgBgN,GACnB,OAAIA,KAAO9H,KAAK6L,QAGrB,CACCzQ,IAAK,QACLN,MAAO,SAAesR,GAClBpM,KAAK6L,MAAQ,GACb7L,KAAK8L,MAAQ,EACb9L,KAAK+L,KAAO,KACRK,GACAtF,QAAQrI,IAAI,mBAGrB,CACCrD,IAAK,SACLN,MAAO,SAAgBgN,UACZ9H,KAAK6L,MAAM/D,OAInB8D,EA1DC,GA6DZvS,EAAQkH,QAAUqL,GAIZ,SAAUtS,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,WACb,IAAIgT,EAAKnQ,SAASkC,cAAc,OAE5BkO,EAAqB,CACrBC,iBAAkB,sBAClBC,cAAe,gBACfC,YAAa,gCACb5I,WAAY,iBAGhB,IAAK,IAAIzJ,KAAQkS,EACb,QAAuBxN,IAAnBuN,EAAGK,MAAMtS,GACT,OAAOkS,EAAmBlS,GAIlC,OAAO,IAKL,SAAUd,EAAQD,EAASO,GAEjC,aAGA,IAAI+G,EAAWpG,OAAOqG,QAAU,SAAUxB,GAAU,IAAK,IAAItF,EAAI,EAAGA,EAAI+E,UAAUhC,OAAQ/C,IAAK,CAAE,IAAI+G,EAAShC,UAAU/E,GAAI,IAAK,IAAIsB,KAAOyF,EAActG,OAAOkB,UAAUC,eAAe1B,KAAK6G,EAAQzF,KAAQgE,EAAOhE,GAAOyF,EAAOzF,IAAY,OAAOgE,GAEvP9F,EAAOD,QAAU,SAAUwC,GACvB,IAAIgP,EAA8B,EAAnBhM,UAAUhC,aAA+BiC,IAAjBD,UAAU,IAAmBA,UAAU,GAE1E0D,EAAW,CACXuF,IAAKrO,OAAOiK,SAAStD,SAAW3G,OAAOiK,SAASrD,OAChDgK,OAAQ,MACRE,KAAM,MAGNA,EAAO5J,EAAS,GAAI4B,EAAU1G,GAE9BiO,EAAU,IAAI6C,eAelB,OAbA7C,EAAQ8C,mBAAqB,WACE,IAAvB9C,EAAQ+C,aACe,MAAnB/C,EAAQC,OACRc,EAASf,EAAQgD,aAAchD,GAE/Be,EAAS,KAAMf,KAK3BA,EAAQiD,KAAKxC,EAAKF,OAAQE,EAAKzC,KAAK,GACpCgC,EAAQkD,iBAAiB,mBAAoB,QAC7ClD,EAAQmD,KAAK1C,EAAKA,MACXT,IAKL,SAAUxQ,EAAQD,EAASO,GAEjC,aAGA,IAAIsT,EAAStT,EAAoB,GAEjCN,EAAOD,QAAU,SAAU8T,EAAMrD,GAC7B,IAAIlD,EAAQ5G,KAERoN,EAAUD,EAAKE,QAAQ,QAAS,sBAAsBA,QAAQ,UAAW,UACzEC,EAAUpR,SAASkC,cAAc,OACrCkP,EAAQC,UAAYH,EAGpB,IAFA,IAAII,EAAS,GAEJ1T,EAAI,EAAGA,EAAIkG,KAAKnE,QAAQ6G,SAAS7F,OAAQ/C,IAAK,CACnD,GAAuD,MAAnDwT,EAAQjR,cAAc2D,KAAKnE,QAAQ6G,SAAS5I,IAE5C,OADAgN,QAAQC,KAAK,WAAa/G,KAAKnE,QAAQ6G,SAAS5I,GAAK,iCAC9C,MAEP,EAAIoT,EAAOnO,UAAUiB,KAAKnE,QAAQ6G,SAAS5I,IAAIiE,QAAQ,SAAUC,EAAMyP,IACnE,EAAIP,EAAOnO,UAAU6H,EAAM/K,QAAQ6G,SAAS5I,GAAIwT,GAASG,GAAO9E,QAAQ3M,KAAOwR,EAAO3Q,OACtF2Q,EAAOpQ,MAAK,EAAI8P,EAAOnO,UAAU6H,EAAM/K,QAAQ6G,SAAS5I,GAAIwT,GAASG,GAAOzQ,aAYxF,MAPW,CACPoL,MAAOkF,EAAQjR,cAAc,SAASmC,UACtCkP,UAAWJ,EAAQjR,cAAc,aAAasR,UAC9CC,gBAAiBT,EACjBK,OAAQA,EACRK,YAAwB,MAAX/D,EAAkBA,EAAQ+D,YAAcpU,OAAOiK,SAASxD,QAOvE,SAAU5G,EAAQD,EAASO,GAEjC,aAGA,IAAIsT,EAAStT,EAAoB,GAE7BmE,EAAUiB,MAAMvD,UAAUsC,QAG9BzE,EAAOD,QAAU,SAAUkR,EAAMuD,GAC7B,IAAIlH,EAAQ5G,KAGRA,KAAKnE,QAAQiH,uBAAyB9C,KAAKsF,iBAC3CtF,KAAKkG,YAAY4H,GAIrB,IAAIC,EAAoB,GAUxB,GAP6B,MAAzBxD,EAAKhB,kBACLvJ,KAAKsG,iBAAiB7M,OAAOiK,SAAStD,SAAUmK,EAAKzC,IAAKyC,EAAKhB,kBAC/DrN,SAAS2L,gBAAgBS,UAAUC,IAAI,MAAQvI,KAAKiG,SAASsE,EAAKhB,oBAElEvJ,KAAKsG,iBAAiB7M,OAAOiK,SAAStD,SAAUmK,EAAKzC,MAGpDgG,GAAY9N,KAAKnE,QAAQ2H,uBAAwB,CAElDxD,KAAKgG,aAAa,qBAClB9J,SAAS2L,gBAAgBS,UAAUC,IAAI,eACvCrM,SAAS2L,gBAAgBS,UAAUC,IAAI,cACvCrM,SAAS2L,gBAAgBS,UAAUC,IAAI,gBACnCuF,GACA5R,SAAS2L,gBAAgBS,UAAUC,IAAI,eAE3CrM,SAAS2L,gBAAgBS,UAAUC,IAAI,MAAQvI,KAAKiG,SAASsE,EAAKzC,MAGlE,IAAIkG,GAAmB,EAAId,EAAOnO,UAAUiB,KAAKnE,QAAQ4G,mBAiBzD,GAhBA1E,EAAQ/D,KAAKgU,EAAkB,SAAUtF,GACrC,IAAIuF,EAAU,IAAIjH,QAAQ,SAAU2C,GAChCjB,EAAQvM,iBAAiByK,EAAMnB,mBAAoB,SAAUnC,GACrDoF,GAAWpF,EAAMlE,QACjBuK,QAIZoE,EAAkB3Q,KAAK6Q,KAG3BjH,QAAQkH,IAAIH,GAAmBI,KAAK,WAChCvH,EAAMZ,aAAa,sBAIK,MAAxBhG,KAAKsF,gBACL,IAAI8I,EAAM7D,EAAKzC,IAAM9H,KAAKsF,qBAEtB8I,EAAM7D,EAAKzC,IAEdgG,GAAU9N,KAAK+F,YAAYqI,QAGhCpO,KAAKgG,aAAa,oBAGtB,GAAIhG,KAAKwC,MAAMkH,OAAOa,EAAKzC,KAAM,CAC7B,IAAIuG,EAAa,IAAIrH,QAAQ,SAAU2C,GACnCA,MAEJ3J,KAAKgG,aAAa,+BAElB,GAAKhG,KAAKuF,gBAAkBvF,KAAKuF,eAAeyE,OAASO,EAAKzC,IAwBtDuG,EAAarO,KAAKuF,oBAvBtB,IAAI8I,EAAa,IAAIrH,QAAQ,SAAU2C,EAASC,GAC5ChD,EAAMjB,QAAQ4E,EAAM,SAAUV,EAAUC,GACpC,GAAuB,MAAnBA,EAAQC,OAGR,OAFAnD,EAAMZ,aAAa,oBACnB4D,EAAOW,EAAKzC,KAIZ,IAAIF,EAAOhB,EAAMlB,gBAAgBmE,EAAUC,GAC/B,MAARlC,GACAA,EAAKE,IAAMyC,EAAKzC,IAMpBlB,EAAMpE,MAAMwF,SAASJ,EAAMhB,EAAM/K,QAAQ+G,WACzCgE,EAAMZ,aAAa,cAEvB2D,KAPQC,EAAOW,EAAKzC,SAepCd,QAAQkH,IAAIH,EAAkBO,OAAO,CAACD,KAAcF,KAAK,WAErDvH,EAAMd,WAAWc,EAAMpE,MAAMmD,QAAQ4E,EAAKzC,KAAMgG,GAChDlH,EAAMrB,eAAiB,OACxBgJ,MAAM,SAAUC,GAEf5H,EAAM/K,QAAQwH,qBAAuB,WAEjC,OADA5J,OAAOiK,SAAW8K,GACX,GAIX/U,OAAOoN,QAAQ4H,IAAI,OAMrB,SAAUnV,EAAQD,EAASO,GAEjC,aAGA,IAMgC4G,EAN5B0M,EAAStT,EAAoB,GAE7B8U,EAAQ9U,EAAoB,GAE5BqH,GAE4BT,EAFIkO,IAEiBlO,EAAIvF,WAAauF,EAAM,CAAED,QAASC,GAEvF,IAAIzC,EAAUiB,MAAMvD,UAAUsC,QAG9BzE,EAAOD,QAAU,SAAUuO,EAAMkG,GAC7B,IAAIlH,EAAQ5G,KAEZ9D,SAAS2L,gBAAgBS,UAAUM,OAAO,cAG1C,IAAI3I,EAAO,IAAIgB,EAAOV,QACtBN,EAAK+I,QAAQpB,EAAKiG,aAEdpU,OAAOiK,SAAStD,WAAaH,EAAK0O,WAClClV,OAAOoN,QAAQoB,aAAa,CACxBH,IAAK7H,EAAK0O,UACVzG,OAAQC,KAAKD,SACbrH,OAAQ,QACT3E,SAASkM,MAAOnI,EAAK0O,WAIvBb,IAAY9N,KAAKnE,QAAQ2H,wBAC1BtH,SAAS2L,gBAAgBS,UAAUC,IAAI,gBAG3CvI,KAAKgG,aAAa,sBAGlB,IAAK,IAAIlM,EAAI,EAAGA,EAAI8N,EAAK4F,OAAO3Q,OAAQ/C,IACpCoC,SAASqL,KAAKlL,cAAc,eAAiBvC,EAAI,MAAMkD,UAAY4K,EAAK4F,OAAO1T,GAInFoC,SAASkM,MAAQR,EAAKQ,OAIe,IAAjCpI,KAAKnE,QAAQ8G,iBACbzG,SAASqL,KAAKoG,UAAUiB,MAAM,KAAK7Q,QAAQ,SAAU4P,GAEhC,IAAbA,GAAmBA,EAAUkB,SAASjI,EAAM/K,QAAQ8G,kBACpDzG,SAASqL,KAAKe,UAAUM,OAAO+E,KAKrB,IAAlB/F,EAAK8F,WACL9F,EAAK8F,UAAUkB,MAAM,KAAK7Q,QAAQ,SAAU4P,GACvB,IAAbA,GAAmBA,EAAUkB,SAASjI,EAAM/K,QAAQ8G,kBACpDzG,SAASqL,KAAKe,UAAUC,IAAIoF,KAKxC3N,KAAKgG,aAAa,mBAClBhG,KAAKgG,aAAa,YACbhG,KAAKnE,QAAQ2G,OACdxC,KAAKwC,MAAMiG,MAAMzI,KAAKnE,QAAQ+G,WAElCkM,WAAW,WACFhB,IAAYlH,EAAM/K,QAAQ2H,yBAC3BoD,EAAMZ,aAAa,oBACnB9J,SAAS2L,gBAAgBS,UAAUM,OAAO,kBAE/C,IAGE5I,KAAKnE,QAAQiH,uBAAwB9C,KAAKsF,iBAC3CtF,KAAKkG,YAAY4H,GAIrB,IAAIE,GAAmB,EAAId,EAAOnO,UAAUiB,KAAKnE,QAAQ4G,mBACrDsM,EAAW,GACfhR,EAAQ/D,KAAKgU,EAAkB,SAAUtF,GACrC,IAAIuF,EAAU,IAAIjH,QAAQ,SAAU2C,GAChCjB,EAAQvM,iBAAiByK,EAAMnB,mBAAoB,SAAUnC,GACrDoF,GAAWpF,EAAMlE,QACjBuK,QAIZoF,EAAS3R,KAAK6Q,KAIlBjO,KAAKwG,eAEAsH,IAAY9N,KAAKnE,QAAQ2H,wBAC1BwD,QAAQkH,IAAIa,GAAUZ,KAAK,WACvBvH,EAAMZ,aAAa,mBAEnB9J,SAAS2L,gBAAgB8F,UAAUiB,MAAM,KAAK7Q,QAAQ,SAAUiR,IACxD,IAAIC,OAAO,QAAQC,KAAKF,IAA4B,gBAAdA,GAA6C,iBAAdA,GAA8C,gBAAdA,IACrG9S,SAAS2L,gBAAgBS,UAAUM,OAAOoG,OAO1DhP,KAAKwF,SAELxF,KAAKsF,gBAAkB,OAKrB,SAAUhM,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUyO,GACvBrO,OAAOoN,QAAQsI,UAAU,CACrBrH,IAAKA,GAAOrO,OAAOiK,SAASxD,KAAK0O,MAAMnV,OAAOiK,SAAS0L,UAAU,GACjElH,OAAQC,KAAKD,SACbrH,OAAQ,QACT3E,SAASmT,qBAAqB,SAAS,GAAG7Q,UAAWsJ,GAAOrO,OAAOiK,SAASxD,KAAK0O,MAAMnV,OAAOiK,SAAS0L,UAAU,MAKlH,SAAU9V,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUiW,EAAWC,GAC9BvP,KAAKnE,QAAQ+G,WAAa2M,GAC1BzI,QAAQmF,eAAe,YAAmBqD,EAAW,iBAAkB,kBACvExI,QAAQrI,IAAI8Q,GACZzI,QAAQqF,YACDnM,KAAKnE,QAAQ+G,WACpBkE,QAAQrI,IAAI,YAAmB6Q,EAAW,iBAAkB,kBAIhEtP,KAAK8D,UAAUwL,GAAWvR,QAAQ,SAAUyR,GACxC,IACIA,EAAQD,GACV,MAAOE,GACL3I,QAAQ2I,MAAMA,MAKtB,IAAInM,EAAQ,IAAIoM,YAAY,QAAUJ,EAAW,CAAEK,OAAQL,IAC3DpT,SAAS0T,cAActM,KAKrB,SAAUhK,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,WACb2G,KAAK+H,WAAatO,OAAOiK,SAAStD,SAAW3G,OAAOiK,SAASrD,SAK3D,SAAU/G,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUqP,EAASmH,GAChC,IAAIjJ,EAAQ5G,KAER8P,EAAoC,EAAnBjR,UAAUhC,aAA+BiC,IAAjBD,UAAU,GAAmBA,UAAU,GAAKmB,KAAKnE,QAAQkH,cAElGgN,EAAW,EAAI/P,KAAKnE,QAAQmH,eAC5BgN,EAAehQ,KAAKnE,QAAQoH,mBAE5BgN,EAAY,EACZC,EAAY,EACZC,EAAkB,EAClBC,EAA4B,EAC5BC,EAAY,EAEZC,EAAM,KAMV,IAAIC,EAAU,SAASA,IACnB,IAYIC,EAGJC,GAHID,EAAWJ,EAA4BH,GACfD,GAK5BC,GADAC,GAAaH,EAhBbW,IAEkB,IAAdL,GAAqCJ,EAAlBE,IAA8C,IAAfE,GAAoBF,EAAkBF,EACxFK,EAAMK,sBAAsBJ,IAE5B9W,OAAOmM,SAAS,EAAGuK,GACnBvJ,EAAMZ,aAAa,gBAgB3B,IAAIyK,EAAa,SAAoBG,GACjCV,GAAaU,GAGbF,EAAS,WACTjX,OAAOmM,SAAS,EAAGqK,IAGvBxW,OAAO0C,iBAAiB,aAAc,SAAUmH,GACxCgN,IACAO,qBAAqBP,GACrBA,EAAM,OAEX,CACCQ,SAAS,IAGb,IAAiCC,EAajC/Q,KAAKgG,aAAa,eACI,GAAlB8J,GACArW,OAAOmM,SAAS,EAAGiK,GACnB7P,KAAKgG,aAAa,gBAhBW+K,EAkBpBlB,EAjBTI,EA7CO/T,SAASqL,KAAKyJ,WAAa9U,SAAS2L,gBAAgBmJ,UA+C3DZ,EAA4BW,GAD5BV,EAAwBU,EAAZd,GAAsB,EAAI,GAGtCC,EAAY,EACRD,IAFJE,EAAkBY,GAGdR,IAEA3J,EAAMZ,aAAa,iBAezB,SAAU1M,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAU4X,GACvB,IAAIC,EAASD,EAAKhK,WAAWqD,cAAc+C,QAAQ,OAAQ,KAC1DA,QAAQ,MAAO,KACfA,QAAQ,YAAa,IACrBA,QAAQ,SAAU,KAClBA,QAAQ,MAAO,IACfA,QAAQ,MAAO,IAGhB,MAFiB,KAAb6D,EAAO,KAAWA,EAASA,EAAOC,OAAO,IAC/B,IAAVD,IAAcA,EAAS,YACpBA,IAKL,SAAU5X,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUyU,GACvB,GAAI9N,KAAKnE,QAAQgH,UAAYiL,GAAY9N,KAAKnE,QAAQ2H,wBAClD,GAA4B,MAAxBxD,KAAKsF,gBAAyB,CAC9B,IAAIoD,EAAUxM,SAASG,cAAc2D,KAAKsF,iBAC1C,GAAe,MAAXoD,EAAiB,CACjB,IAAIU,EAAMV,EAAQW,wBAAwBD,IAAM3P,OAAO6P,YACvDtJ,KAAK4F,SAAS1J,SAASqL,KAAM6B,QAE7BtC,QAAQC,KAAK,iCAAmC/G,KAAKsF,gBAAkB,KAE3EtF,KAAKsF,gBAAkB,UAEvBtF,KAAK4F,SAAS1J,SAASqL,KAAM,KAOnC,SAAUjO,EAAQD,EAASO,GAEjC,aAGA,IAAIsT,EAAStT,EAAoB,GAEjCN,EAAOD,QAAU,SAAUqP,GAKvB,IAJA,IAAI9B,EAAQ5G,KAERwN,EAAS,EAEJ1T,EAAI,EAAGA,EAAIkG,KAAKnE,QAAQ6G,SAAS7F,OAAQ/C,IACS,MAAnD4O,EAAQrM,cAAc2D,KAAKnE,QAAQ6G,SAAS5I,IAC5CgN,QAAQC,KAAK,WAAa/G,KAAKnE,QAAQ6G,SAAS5I,GAAK,6BAErD,EAAIoT,EAAOnO,UAAUiB,KAAKnE,QAAQ6G,SAAS5I,IAAIiE,QAAQ,SAAUC,EAAMyP,IACnE,EAAIP,EAAOnO,UAAU6H,EAAM/K,QAAQ6G,SAAS5I,GAAI4O,GAAS+E,GAAO9E,QAAQ3M,KAAOwR,EAC/EA,QAQV,SAAUlU,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAYiK,EAAOkM,GAC5BxP,KAAK8D,UAAUR,GACftD,KAAK8D,UAAUR,GAAOlG,KAAKoS,GAE3B1I,QAAQC,KAAK,qBAAuBzD,EAAQ,OAM9C,SAAUhK,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAaiK,EAAOkM,GACjC,IAAI5I,EAAQ5G,KAEZ,GAAa,MAATsD,EACA,GAAe,MAAXkM,EACA,GAAIxP,KAAK8D,UAAUR,IAAUtD,KAAK8D,UAAUR,GAAO8N,OAAO,SAAUC,GAChE,OAAOA,IAAiB7B,IACzB3S,OAAQ,CACP,IAAIyU,EAAWtR,KAAK8D,UAAUR,GAAO8N,OAAO,SAAUC,GAClD,OAAOA,IAAiB7B,IACzB,GACC/B,EAAQzN,KAAK8D,UAAUR,GAAO4D,QAAQoK,IAC7B,EAAT7D,GACAzN,KAAK8D,UAAUR,GAAO6N,OAAO1D,EAAO,QAGxC3G,QAAQC,KAAK,sBAAwBzD,EAAQ,oBAGjDtD,KAAK8D,UAAUR,GAAS,QAG5B/I,OAAO2R,KAAKlM,KAAK8D,WAAW/F,QAAQ,SAAUmO,GAC1CtF,EAAM9C,UAAUoI,GAAQ,OAO9B,SAAU5S,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUkY,EAAM1B,EAAI2B,GAGrB,KAARD,IACAA,EAAO,aAED,KAAN1B,IACAA,EAAK,aAIT7P,KAAK6D,WAAa,CACd0N,KAAMA,EAAKlE,QAAQ,IAAK,IACxBwC,GAAIA,EAAGxC,QAAQ,IAAK,KAGpBmE,IACAxR,KAAK6D,WAAW2N,OAASA,KAM3B,SAAUlY,EAAQD,EAASO,GAEjC,aAGA,IAIgC4G,EAJ5BkO,EAAQ9U,EAAoB,GAE5BqH,GAE4BT,EAFIkO,IAEiBlO,EAAIvF,WAAauF,EAAM,CAAED,QAASC,GAEvFlH,EAAOD,QAAU,SAAU+G,GACvB,IAAIwG,EAAQ5G,KAERC,EAAO,IAAIgB,EAAOV,QACtBN,EAAK+I,QAAQ5I,GACTH,EAAKiJ,cAAgBlJ,KAAK+H,YAAe/H,KAAKwC,MAAMkH,OAAOzJ,EAAKiJ,eAAwC,MAAvBlJ,KAAKuF,gBACtFvF,KAAK2F,QAAQ,CAAEmC,IAAK7H,EAAKiJ,cAAgB,SAAUW,EAAUC,GACzD,GAAuB,MAAnBA,EAAQC,OAAZ,CAKI,IAAInC,EAAOhB,EAAMlB,gBAAgBmE,EAAUC,GAC/B,MAARlC,IACAA,EAAKE,IAAM7H,EAAKiJ,aAChBtC,EAAMpE,MAAMwF,SAASJ,EAAMhB,EAAM/K,QAAQ+G,WACzCgE,EAAMZ,aAAa,uBARvBY,EAAMZ,aAAa,mBAiB7B,SAAU1M,EAAQD,EAASO,GAEjC,aAGA,IAAIsT,EAAStT,EAAoB,GAEjCN,EAAOD,QAAU,WACb,IAAIuN,EAAQ5G,KAERA,KAAKnE,QAAQqH,UACb,EAAIgK,EAAOnO,UAAU,uBAAuBhB,QAAQ,SAAU2K,GAC1D9B,EAAML,YAAYmC,EAAQxI,UAOhC,SAAU5G,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUoY,EAAQ5V,GAC/B,IAAI+K,EAAQ5G,KAEZnE,EAAUtB,OAAOqG,OAAO,GAAI6Q,EAAO5V,QAASA,GAE5C4V,EAAO5V,QAAUA,EAWjB,OAFAmE,KAAKoD,QAAQhG,KAAKqU,GAClBA,EAAO1V,KAAKF,EAASmE,KARI,WACrB,IAAI4H,EAAOhB,EAAMpE,MAAMmD,QAAQlM,OAAOiK,SAAStD,SAAW3G,OAAOiK,SAASrD,QACtE8M,EAAOjR,SAASkC,cAAc,QAElC,OADA+O,EAAKI,UAAY3F,EAAKgG,gBACfT,IAKJnN,KAAKoD,UAKV,SAAU9J,EAAQD,EAASO,GAEjC,aAGAN,EAAOD,QAAU,SAAUqY,GACnB1R,KAAKnE,QAAQ+G,WACbkE,QAAQrI,IAAIiT,EAAM,KAAM","file":"swup.js","sourcesContent":["/**Swup mergeHead Plugin */\n(function webpackUniversalModuleDefinition(root, factory) {\n    if (typeof exports === 'object' && typeof module === 'object')\n        module.exports = factory();\n    else if (typeof define === 'function' && define.amd)\n        define([], factory);\n    else if (typeof exports === 'object')\n        exports[\"swupMergeHeadPlugin\"] = factory();\n    else\n        root[\"swupMergeHeadPlugin\"] = factory();\n})(window, function () {\n    return /******/ (function (modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif (installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n                /******/\n            }\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n                /******/\n            };\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n            /******/\n        }\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function (exports, name, getter) {\n/******/ \t\tif (!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n                /******/\n            }\n            /******/\n        };\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function (exports) {\n/******/ \t\tif (typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n                /******/\n            }\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n            /******/\n        };\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function (value, mode) {\n/******/ \t\tif (mode & 1) value = __webpack_require__(value);\n/******/ \t\tif (mode & 8) return value;\n/******/ \t\tif ((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif (mode & 2 && typeof value != 'string') for (var key in value) __webpack_require__.d(ns, key, function (key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n            /******/\n        };\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function (module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n            /******/\n        };\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function (object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 0);\n        /******/\n    })\n/************************************************************************/\n/******/([\n/* 0 */\n/***/ (function (module, exports, __webpack_require__) {\n\n            \"use strict\";\n\n\n            module.exports = {\n                name: 'swupMergeHeadPlugin',\n                options: { runScripts: false },\n                exec: function exec(options, swup, getHTMLfromCache) {\n                    document.addEventListener('swup:contentReplaced', function () {\n                        var currentHead = document.querySelector('head');\n                        var newHead = getHTMLfromCache().querySelector('head');\n                        replaceHeadWithoutReplacingExistingTags(currentHead, newHead);\n                    });\n\n                    var replaceHeadWithoutReplacingExistingTags = function replaceHeadWithoutReplacingExistingTags(currentHead, newHead) {\n                        var oldTags = currentHead.children;\n                        var newTags = newHead.children;\n                        var oldTagsToRemove = [];\n                        var newTagsToRemove = [];\n\n                        for (var i = 0; i < oldTags.length; i++) {\n                            var oldTag = oldTags[i];\n                            var oldTagIdentifier = oldTag.outerHTML;\n                            var foundInNewHead = false;\n                            var newTag = void 0;\n                            for (var j = 0; j < newTags.length; j++) {\n                                newTag = newTags[j];\n                                var newTagIdentifier = newTag.outerHTML;\n\n                                if (newTagIdentifier === oldTagIdentifier) {\n                                    foundInNewHead = true;\n                                    break;\n                                }\n                            }\n\n                            if (foundInNewHead) {\n                                newTagsToRemove.push(newTag);\n                            } else {\n                                oldTagsToRemove.push(oldTag);\n                            }\n                        }\n\n                        for (var _i = 0; _i < newTagsToRemove.length; _i++) {\n                            newHead.removeChild(newTagsToRemove[_i]);\n                        }\n\n                        for (var _i2 = 0; _i2 < oldTagsToRemove.length; _i2++) {\n                            currentHead.removeChild(oldTagsToRemove[_i2]);\n                        }\n\n                        var added = newHead.children.length;\n                        var removed = oldTagsToRemove.length;\n\n                        var fragment = document.createDocumentFragment();\n                        for (var _i3 = 0; _i3 < newHead.children.length; _i3++) {\n                            fragment.appendChild(newHead.children[_i3]);\n                        }\n                        currentHead.appendChild(fragment);\n\n                        if (options.runScripts) {\n                            newHead.querySelectorAll('script').forEach(function (item) {\n                                if (item.tagName == \"SCRIPT\" && (item.type == null || item.type == \"\" || item.type == \"text/javascript\")) {\n                                    var elem = document.createElement('script');\n                                    if (item.src != null && item.src != \"\") {\n                                        elem.src = item.src;\n                                    } else {\n                                        var inline = document.createTextNode(item.innerText);\n                                        elem.appendChild(inline);\n                                    }\n                                    if (item.type != null && item.type != \"\") {\n                                        elem.type = item.type;\n                                    }\n                                    currentHead.appendChild(elem);\n                                } else { }\n                            });\n                        }\n\n                        swup.log('Removed ' + removed + ' / added ' + added + ' tags in head');\n                    };\n                }\n            };\n\n            /***/\n        })\n/******/]);\n});\n\n/**Swup.js */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swup\"] = factory();\n\telse\n\t\troot[\"Swup\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 2);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.query = query;\nexports.queryAll = queryAll;\nfunction query(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return context.querySelector(selector);\n}\n\nfunction queryAll(selector) {\n    var context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document;\n\n    if (typeof selector !== 'string') {\n        return selector;\n    }\n\n    return Array.prototype.slice.call(context.querySelectorAll(selector));\n}\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n    function Link() {\n        _classCallCheck(this, Link);\n\n        this.link = document.createElement(\"a\");\n    }\n\n    _createClass(Link, [{\n        key: 'setPath',\n        value: function setPath(href) {\n            this.link.href = href;\n        }\n    }, {\n        key: 'getPath',\n        value: function getPath() {\n            var path = this.link.pathname;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getAddress',\n        value: function getAddress() {\n            var path = this.link.pathname + this.link.search;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getHash',\n        value: function getHash() {\n            return this.link.hash;\n        }\n    }]);\n\n    return Link;\n}();\n\nexports.default = Link;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _index = __webpack_require__(3);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _index2.default; // this is here for webpack to expose Swup as window.Swup\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// helpers\n\n\n// modules\n\n\nvar _delegate = __webpack_require__(4);\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = __webpack_require__(6);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _transitionEnd = __webpack_require__(7);\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _request = __webpack_require__(8);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _getDataFromHtml = __webpack_require__(9);\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _loadPage = __webpack_require__(10);\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = __webpack_require__(11);\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _createState = __webpack_require__(12);\n\nvar _createState2 = _interopRequireDefault(_createState);\n\nvar _triggerEvent = __webpack_require__(13);\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _getUrl = __webpack_require__(14);\n\nvar _getUrl2 = _interopRequireDefault(_getUrl);\n\nvar _scrollTo = __webpack_require__(15);\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nvar _classify = __webpack_require__(16);\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _doScrolling = __webpack_require__(17);\n\nvar _doScrolling2 = _interopRequireDefault(_doScrolling);\n\nvar _markSwupElements = __webpack_require__(18);\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _on = __webpack_require__(19);\n\nvar _on2 = _interopRequireDefault(_on);\n\nvar _off = __webpack_require__(20);\n\nvar _off2 = _interopRequireDefault(_off);\n\nvar _updateTransition = __webpack_require__(21);\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _preloadPage = __webpack_require__(22);\n\nvar _preloadPage2 = _interopRequireDefault(_preloadPage);\n\nvar _preloadPages = __webpack_require__(23);\n\nvar _preloadPages2 = _interopRequireDefault(_preloadPages);\n\nvar _usePlugin = __webpack_require__(24);\n\nvar _usePlugin2 = _interopRequireDefault(_usePlugin);\n\nvar _log = __webpack_require__(25);\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n    function Swup(setOptions) {\n        _classCallCheck(this, Swup);\n\n        // default options\n        var defaults = {\n            cache: true,\n            animationSelector: '[class*=\"transition-\"]',\n            elements: ['#swup'],\n            pageClassPrefix: '',\n            debugMode: false,\n            scroll: true,\n\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: .3,\n            scrollAcceleration: .04,\n\n            preload: true,\n            support: true,\n            plugins: [],\n\n            skipPopStateHandling: function skipPopStateHandling(event) {\n                if (event.state && event.state.source == \"swup\") {\n                    return false;\n                }\n                return true;\n            },\n            animateHistoryBrowsing: false,\n\n            LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n            FORM_SELECTOR: 'form[data-swup-form]'\n\n            /**\n             * current transition object\n             */\n        };this.transition = {};\n\n        var options = _extends({}, defaults, setOptions);\n\n        /**\n         * handler arrays\n         */\n        this._handlers = {\n            animationInDone: [],\n            animationInStart: [],\n            animationOutDone: [],\n            animationOutStart: [],\n            animationSkipped: [],\n            clickLink: [],\n            contentReplaced: [],\n            disabled: [],\n            enabled: [],\n            hoverLink: [],\n            openPageInNewTab: [],\n            pageLoaded: [],\n            pagePreloaded: [],\n            pageRetrievedFromCache: [],\n            pageView: [],\n            popState: [],\n            samePage: [],\n            samePageWithHash: [],\n            scrollDone: [],\n            scrollStart: [],\n            serverError: [],\n            submitForm: [],\n            willReplaceContent: []\n        };\n\n        /**\n         * helper variables\n         */\n        // id of element to scroll to after render\n        this.scrollToElement = null;\n        // promise used for preload, so no new loading of the same page starts while page is loading\n        this.preloadPromise = null;\n        // save options\n        this.options = options;\n        // plugins array\n        this.plugins = [];\n\n        /**\n         * make modules accessible in instance\n         */\n        this.getUrl = _getUrl2.default;\n        this.cache = new _Cache2.default();\n        this.link = new _Link2.default();\n        this.transitionEndEvent = (0, _transitionEnd2.default)();\n        this.getDataFromHtml = _getDataFromHtml2.default;\n        this.getPage = _request2.default;\n        this.scrollTo = _scrollTo2.default;\n        this.loadPage = _loadPage2.default;\n        this.renderPage = _renderPage2.default;\n        this.createState = _createState2.default;\n        this.triggerEvent = _triggerEvent2.default;\n        this.classify = _classify2.default;\n        this.doScrolling = _doScrolling2.default;\n        this.markSwupElements = _markSwupElements2.default;\n        this.on = _on2.default;\n        this.off = _off2.default;\n        this.updateTransition = _updateTransition2.default;\n        this.preloadPage = _preloadPage2.default;\n        this.preloadPages = _preloadPages2.default;\n        this.usePlugin = _usePlugin2.default;\n        this.log = _log2.default;\n        this.enable = this.enable;\n        this.destroy = this.destroy;\n\n        // attach instance to window in debug mode\n        if (this.options.debugMode) {\n            window.swup = this;\n        }\n\n        this.getUrl();\n        this.enable();\n    }\n\n    _createClass(Swup, [{\n        key: 'enable',\n        value: function enable() {\n            var _this = this;\n\n            /**\n             * support check\n             */\n            if (this.options.support) {\n                // check pushState support\n                if (!('pushState' in window.history)) {\n                    console.warn('pushState is not supported');\n                    return;\n                }\n                // check transitionEnd support\n                if ((0, _transitionEnd2.default)()) {\n                    this.transitionEndEvent = (0, _transitionEnd2.default)();\n                } else {\n                    console.warn('transitionEnd detection is not supported');\n                    return;\n                }\n                // check Promise support\n                if (typeof Promise === \"undefined\" || Promise.toString().indexOf(\"[native code]\") === -1) {\n                    console.warn('Promise is not supported');\n                    return;\n                }\n            }\n\n            // variable to keep event listeners from \"delegate\"\n            this.delegatedListeners = {};\n\n            /**\n             * link click handler\n             */\n            this.delegatedListeners.click = (0, _delegate2.default)(document, this.options.LINK_SELECTOR, 'click', this.linkClickHandler.bind(this));\n\n            /**\n             * link mouseover handler (preload)\n             */\n            this.delegatedListeners.mouseover = (0, _delegate2.default)(document.body, this.options.LINK_SELECTOR, 'mouseover', this.linkMouseoverHandler.bind(this));\n\n            /**\n             * form submit handler\n             */\n            this.delegatedListeners.formSubmit = (0, _delegate2.default)(document, this.options.FORM_SELECTOR, 'submit', this.formSubmitHandler.bind(this));\n\n            /**\n             * popstate handler\n             */\n            window.addEventListener('popstate', this.popStateHandler.bind(this));\n\n            /**\n             * initial save to cache\n             */\n            var page = this.getDataFromHtml(document.documentElement.outerHTML);\n            page.url = this.currentUrl;\n            if (this.options.cache) {\n                this.cache.cacheUrl(page, this.options.debugMode);\n            }\n\n            /**\n             * mark swup blocks in html\n             */\n            this.markSwupElements(document.documentElement);\n\n            /**\n             * enable plugins from options\n             */\n            this.options.plugins.forEach(function (item) {\n                return _this.usePlugin(item);\n            });\n\n            /**\n             * modify initial history record\n             */\n            window.history.replaceState(Object.assign({}, window.history.state, {\n                url: window.location.href,\n                random: Math.random(),\n                source: \"swup\"\n            }), document.title, window.location.href);\n\n            /**\n             * Disable browser scroll control on popstates when animateHistoryBrowsing option is enabled\n             */\n            if (this.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = \"manual\";\n            }\n\n            /**\n             * trigger enabled event\n             */\n            this.triggerEvent('enabled');\n            document.documentElement.classList.add('swup-enabled');\n\n            /**\n             * trigger page view event\n             */\n            this.triggerEvent('pageView');\n\n            /**\n             * preload pages if possible\n             */\n            this.preloadPages();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            // remove delegated listeners\n            this.delegatedListeners.click.destroy();\n            this.delegatedListeners.mouseover.destroy();\n\n            // remove popstate listener\n            window.removeEventListener('popstate', this.popStateHandler.bind(this));\n\n            // empty cache\n            this.cache.empty();\n\n            // remove swup data atributes from blocks\n            document.querySelectorAll('[data-swup]').forEach(function (element) {\n                delete element.dataset.swup;\n            });\n\n            // remove handlers\n            this.off();\n\n            this.triggerEvent('disabled');\n            document.documentElement.classList.remove('swup-enabled');\n        }\n    }, {\n        key: 'linkClickHandler',\n        value: function linkClickHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                // index of pressed button needs to be checked because Firefox triggers click on all mouse buttons\n                if (event.button === 0) {\n                    this.triggerEvent('clickLink', event);\n                    var link = new _Link2.default();\n                    event.preventDefault();\n                    link.setPath(event.delegateTarget.href);\n\n                    if (link.getAddress() == this.currentUrl || link.getAddress() == '') {\n                        // link to the same URL\n                        if (link.getHash() != '') {\n                            // link to the same URL with hash\n                            this.triggerEvent('samePageWithHash', event);\n                            var element = document.querySelector(link.getHash());\n                            if (element != null) {\n                                // referenced element found\n                                if (this.options.scroll) {\n                                    var top = element.getBoundingClientRect().top + window.pageYOffset;\n                                    this.scrollTo(document.body, top);\n                                }\n                                history.replaceState({\n                                    url: link.getAddress() + link.getHash(),\n                                    random: Math.random(),\n                                    source: \"swup\"\n                                }, document.title, link.getAddress() + link.getHash());\n                            } else {\n                                // referenced element not found\n                                console.warn('Element for offset not found (' + link.getHash() + ')');\n                            }\n                        } else {\n                            // link to the same URL without hash\n                            this.triggerEvent('samePage', event);\n                            if (this.options.scroll) {\n                                this.scrollTo(document.body, 0, 1);\n                            }\n                        }\n                    } else {\n                        // link to different url\n                        if (link.getHash() != '') {\n                            this.scrollToElement = link.getHash();\n                        }\n\n                        // get custom transition from data\n                        var customTransition = event.delegateTarget.dataset.swupTransition;\n\n                        // load page\n                        this.loadPage({ url: link.getAddress(), customTransition: customTransition }, false);\n                    }\n                }\n            } else {\n                // open in new tab (do nothing)\n                this.triggerEvent('openPageInNewTab', event);\n            }\n        }\n    }, {\n        key: 'linkMouseoverHandler',\n        value: function linkMouseoverHandler(event) {\n            var _this2 = this;\n\n            this.triggerEvent('hoverLink', event);\n            if (this.options.preload) {\n                var link = new _Link2.default();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n                    this.preloadPromise = new Promise(function (resolve, reject) {\n                        _this2.getPage({ url: link.getAddress() }, function (response, request) {\n                            if (request.status === 500) {\n                                _this2.triggerEvent('serverError', event);\n                                reject(link.getAddress());\n                                return;\n                            } else {\n                                // get json data\n                                var page = _this2.getDataFromHtml(response, request);\n                                if (page != null) {\n                                    page.url = link.getAddress();\n                                    _this2.cache.cacheUrl(page, _this2.options.debugMode);\n                                    _this2.triggerEvent('pagePreloaded', event);\n                                } else {\n                                    reject(link.getAddress());\n                                    return;\n                                }\n                            }\n                            resolve();\n                            _this2.preloadPromise = null;\n                        });\n                    });\n                    this.preloadPromise.route = link.getAddress();\n                }\n            }\n        }\n    }, {\n        key: 'formSubmitHandler',\n        value: function formSubmitHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('submitForm', event);\n                event.preventDefault();\n                var form = event.target;\n                var formData = new FormData(form);\n\n                var link = new _Link2.default();\n                link.setPath(form.action);\n\n                if (link.getHash() != '') {\n                    this.scrollToElement = link.getHash();\n                }\n\n                if (form.method.toLowerCase() != \"get\") {\n                    // remove page from cache\n                    this.cache.remove(link.getAddress());\n\n                    // send data\n                    this.loadPage({\n                        url: link.getAddress(),\n                        method: form.method,\n                        data: formData\n                    });\n                } else {\n                    // create base url\n                    var url = link.getAddress() || window.location.href;\n                    var inputs = form.querySelectorAll('input, select');\n                    if (url.indexOf('?') == -1) {\n                        url += \"?\";\n                    } else {\n                        url += \"&\";\n                    }\n\n                    // add form data to url\n                    inputs.forEach(function (input) {\n                        if (input.type == \"checkbox\" || input.type == \"radio\") {\n                            if (input.checked) {\n                                url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                            }\n                        } else {\n                            url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                        }\n                    });\n\n                    // remove last \"&\"\n                    url = url.slice(0, -1);\n\n                    // remove page from cache\n                    this.cache.remove(url);\n\n                    // send data\n                    this.loadPage({\n                        url: url\n                    });\n                }\n            } else {\n                this.triggerEvent('openFormSubmitInNewTab', event);\n            }\n        }\n    }, {\n        key: 'popStateHandler',\n        value: function popStateHandler(event) {\n            var link = new _Link2.default();\n            if (this.options.skipPopStateHandling(event)) return;\n            link.setPath(event.state ? event.state.url : window.location.pathname);\n            if (link.getHash() != '') {\n                this.scrollToElement = link.getHash();\n            } else {\n                event.preventDefault();\n            }\n            this.triggerEvent('popState', event);\n            this.loadPage({ url: link.getAddress() }, event);\n        }\n    }]);\n\n    return Swup;\n}();\n\nexports.default = Swup;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar closest = __webpack_require__(5);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this.pages = {};\n        this.count = 0;\n        this.last = null;\n    }\n\n    _createClass(Cache, [{\n        key: 'cacheUrl',\n        value: function cacheUrl(page, displayCache) {\n            this.count++;\n            if (page.url in this.pages === false) {\n                this.pages[page.url] = page;\n            }\n            this.last = this.pages[page.url];\n            if (displayCache) {\n                this.displayCache();\n            }\n        }\n    }, {\n        key: 'getPage',\n        value: function getPage(url) {\n            return this.pages[url];\n        }\n    }, {\n        key: 'displayCache',\n        value: function displayCache() {\n            console.groupCollapsed('Cache (' + Object.keys(this.pages).length + ')');\n            for (var key in this.pages) {\n                console.log(this.pages[key]);\n            }\n            console.groupEnd();\n        }\n    }, {\n        key: 'exists',\n        value: function exists(url) {\n            if (url in this.pages) return true;\n            return false;\n        }\n    }, {\n        key: 'empty',\n        value: function empty(showLog) {\n            this.pages = {};\n            this.count = 0;\n            this.last = null;\n            if (showLog) {\n                console.log('Cache cleared');\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(url) {\n            delete this.pages[url];\n        }\n    }]);\n\n    return Cache;\n}();\n\nexports.default = Cache;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function transitionEnd() {\n    var el = document.createElement('div');\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return transEndEventNames[name];\n        }\n    }\n\n    return false;\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = function (options) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var defaults = {\n        url: window.location.pathname + window.location.search,\n        method: \"GET\",\n        data: null\n    };\n\n    var data = _extends({}, defaults, options);\n\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 500) {\n                callback(request.responseText, request);\n            } else {\n                callback(null, request);\n            }\n        }\n    };\n\n    request.open(data.method, data.url, true);\n    request.setRequestHeader(\"X-Requested-With\", \"swup\");\n    request.send(data.data);\n    return request;\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (html, request) {\n    var _this = this;\n\n    var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n    var fakeDom = document.createElement('div');\n    fakeDom.innerHTML = content;\n    var blocks = [];\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (fakeDom.querySelector(this.options.elements[i]) == null) {\n            console.warn('Element ' + this.options.elements[i] + ' is not found in cached page.');\n            return null;\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].dataset.swup = blocks.length;\n                blocks.push((0, _utils.queryAll)(_this.options.elements[i], fakeDom)[index].outerHTML);\n            });\n        }\n    }\n\n    var json = {\n        title: fakeDom.querySelector('title').innerText,\n        pageClass: fakeDom.querySelector('#swupBody').className,\n        originalContent: html,\n        blocks: blocks,\n        responseURL: request != null ? request.responseURL : window.location.href\n    };\n    return json;\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // create array for storing animation promises\n    var animationPromises = [];\n\n    // set transition object\n    if (data.customTransition != null) {\n        this.updateTransition(window.location.pathname, data.url, data.customTransition);\n        document.documentElement.classList.add('to-' + this.classify(data.customTransition));\n    } else {\n        this.updateTransition(window.location.pathname, data.url);\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        this.triggerEvent('animationOutStart');\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        document.documentElement.classList.add('is-animating');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // detect animation end\n        var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n        forEach.call(animatedElements, function (element) {\n            var promise = new Promise(function (resolve) {\n                element.addEventListener(_this.transitionEndEvent, function (event) {\n                    if (element == event.target) {\n                        resolve();\n                    }\n                });\n            });\n            animationPromises.push(promise);\n        });\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        // render page\n        _this.renderPage(_this.cache.getPage(data.url), popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    // only add for non-popstate transitions\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    // handle classes after render\n    // remove\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n    // add\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n    setTimeout(function () {\n        if (!popstate || _this.options.animateHistoryBrowsing) {\n            _this.triggerEvent('animationInStart');\n            document.documentElement.classList.remove('is-animating');\n        }\n    }, 10);\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animatedElements = (0, _utils.queryAll)(this.options.animationSelector);\n    var promises = [];\n    forEach.call(animatedElements, function (element) {\n        var promise = new Promise(function (resolve) {\n            element.addEventListener(_this.transitionEndEvent, function (event) {\n                if (element == event.target) {\n                    resolve();\n                }\n            });\n        });\n        promises.push(promise);\n    });\n\n    //preload pages if possible\n    this.preloadPages();\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        Promise.all(promises).then(function () {\n            _this.triggerEvent('animationInDone');\n            // remove \"to-{page}\" classes\n            document.documentElement.className.split(' ').forEach(function (classItem) {\n                if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                    document.documentElement.classList.remove(classItem);\n                }\n            });\n        });\n    }\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (url) {\n    window.history.pushState({\n        url: url || window.location.href.split(window.location.hostname)[1],\n        random: Math.random(),\n        source: \"swup\"\n    }, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (eventName, originalEvent) {\n    if (this.options.debugMode && originalEvent) {\n        console.groupCollapsed('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n        console.log(originalEvent);\n        console.groupEnd();\n    } else if (this.options.debugMode) {\n        console.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n    }\n\n    // call saved handlers with \"on\" method and pass originalEvent object if available\n    this._handlers[eventName].forEach(function (handler) {\n        try {\n            handler(originalEvent);\n        } catch (error) {\n            console.error(error);\n        }\n    });\n\n    // trigger event on document with prefix \"swup:\"\n    var event = new CustomEvent('swup:' + eventName, { detail: eventName });\n    document.dispatchEvent(event);\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n    this.currentUrl = window.location.pathname + window.location.search;\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (element, to) {\n    var _this = this;\n\n    var animatedScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.animateScroll;\n\n    var friction = 1 - this.options.scrollFriction;\n    var acceleration = this.options.scrollAcceleration;\n\n    var positionY = 0;\n    var velocityY = 0;\n    var targetPositionY = 0;\n    var targetPositionYWithOffset = 0;\n    var direction = 0;\n\n    var raf = null;\n\n    function getScrollTop() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n\n    var animate = function animate() {\n        var distance = update();\n        render();\n\n        if (direction === 1 && targetPositionY > positionY || direction === -1 && targetPositionY < positionY) {\n            raf = requestAnimationFrame(animate);\n        } else {\n            window.scrollTo(0, targetPositionY);\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    function update() {\n        var distance = targetPositionYWithOffset - positionY;\n        var attraction = distance * acceleration;\n\n        applyForce(attraction);\n\n        velocityY *= friction;\n        positionY += velocityY;\n\n        return distance;\n    }\n\n    var applyForce = function applyForce(force) {\n        velocityY += force;\n    };\n\n    var render = function render() {\n        window.scrollTo(0, positionY);\n    };\n\n    window.addEventListener('mousewheel', function (event) {\n        if (raf) {\n            cancelAnimationFrame(raf);\n            raf = null;\n        }\n    }, {\n        passive: true\n    });\n\n    var scrollTo = function scrollTo(offset, callback) {\n        positionY = getScrollTop();\n        direction = positionY > offset ? -1 : 1;\n        targetPositionYWithOffset = offset + direction;\n        targetPositionY = offset;\n        velocityY = 0;\n        if (positionY != targetPositionY) {\n            animate();\n        } else {\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    this.triggerEvent('scrollStart');\n    if (animatedScroll == 0) {\n        window.scrollTo(0, to);\n        this.triggerEvent('scrollDone');\n    } else {\n        scrollTo(to);\n    }\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (text) {\n    var output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\//g, '-') // Replace / with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    if (output[0] == \"/\") output = output.splice(1);\n    if (output == '') output = 'homepage';\n    return output;\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (popstate) {\n    if (this.options.scroll && (!popstate || this.options.animateHistoryBrowsing)) {\n        if (this.scrollToElement != null) {\n            var element = document.querySelector(this.scrollToElement);\n            if (element != null) {\n                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                this.scrollTo(document.body, top);\n            } else {\n                console.warn(\"Element for offset not found (\" + this.scrollToElement + \")\");\n            }\n            this.scrollToElement = null;\n        } else {\n            this.scrollTo(document.body, 0);\n        }\n    }\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function (element) {\n    var _this = this;\n\n    var blocks = 0;\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (element.querySelector(this.options.elements[i]) == null) {\n            console.warn(\"Element \" + this.options.elements[i] + \" is not in current page.\");\n        } else {\n            (0, _utils.queryAll)(this.options.elements[i]).forEach(function (item, index) {\n                (0, _utils.queryAll)(_this.options.elements[i], element)[index].dataset.swup = blocks;\n                blocks++;\n            });\n        }\n    }\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function on(event, handler) {\n    if (this._handlers[event]) {\n        this._handlers[event].push(handler);\n    } else {\n        console.warn(\"Unsupported event \" + event + \".\");\n    }\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function off(event, handler) {\n    var _this = this;\n\n    if (event != null) {\n        if (handler != null) {\n            if (this._handlers[event] && this._handlers[event].filter(function (savedHandler) {\n                return savedHandler === handler;\n            }).length) {\n                var toRemove = this._handlers[event].filter(function (savedHandler) {\n                    return savedHandler === handler;\n                })[0];\n                var index = this._handlers[event].indexOf(toRemove);\n                if (index > -1) {\n                    this._handlers[event].splice(index, 1);\n                }\n            } else {\n                console.warn(\"Handler for event '\" + event + \"' no found.\");\n            }\n        } else {\n            this._handlers[event] = [];\n        }\n    } else {\n        Object.keys(this._handlers).forEach(function (keys) {\n            _this._handlers[keys] = [];\n        });\n    }\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (from, to, custom) {\n\n    // homepage case\n    if (from == \"/\") {\n        from = \"/homepage\";\n    }\n    if (to == \"/\") {\n        to = \"/homepage\";\n    }\n\n    // transition routes\n    this.transition = {\n        from: from.replace('/', ''),\n        to: to.replace('/', '')\n    };\n\n    if (custom) {\n        this.transition.custom = custom;\n    }\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(1);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function (pathname) {\n    var _this = this;\n\n    var link = new _Link2.default();\n    link.setPath(pathname);\n    if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n        this.getPage({ url: link.getAddress() }, function (response, request) {\n            if (request.status === 500) {\n                _this.triggerEvent('serverError');\n                return;\n            } else {\n                // get json data\n                var page = _this.getDataFromHtml(response, request);\n                if (page != null) {\n                    page.url = link.getAddress();\n                    _this.cache.cacheUrl(page, _this.options.debugMode);\n                    _this.triggerEvent('pagePreloaded');\n                }\n            }\n        });\n    }\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _utils = __webpack_require__(0);\n\nmodule.exports = function () {\n    var _this = this;\n\n    if (this.options.preload) {\n        (0, _utils.queryAll)('[data-swup-preload]').forEach(function (element) {\n            _this.preloadPage(element.href);\n        });\n    }\n};\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (plugin, options) {\n    var _this = this;\n\n    options = Object.assign({}, plugin.options, options);\n\n    plugin.options = options;\n\n    var getCurrentPageHtml = function getCurrentPageHtml() {\n        var page = _this.cache.getPage(window.location.pathname + window.location.search);\n        var html = document.createElement('html');\n        html.innerHTML = page.originalContent;\n        return html;\n    };\n\n    this.plugins.push(plugin);\n    plugin.exec(options, this, getCurrentPageHtml);\n    return this.plugins;\n};\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (str) {\n    if (this.options.debugMode) {\n        console.log(str + '%c', 'color: #009ACD');\n    }\n};\n\n/***/ })\n/******/ ]);\n});"]}